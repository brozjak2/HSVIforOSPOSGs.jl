<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · HSVIforOSPOSGs.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://brozjak2.github.io/HSVIforOSPOSGs.jl/manual/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HSVIforOSPOSGs.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Manual</a><ul class="internal"><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#LP-Solvers"><span>LP Solvers</span></a></li><li><a class="tocitem" href="#Logging-level"><span>Logging level</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="../game_format/">Game format</a></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Manual</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/master/docs/src/manual.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Manual"><a class="docs-heading-anchor" href="#Manual">Manual</a><a id="Manual-1"></a><a class="docs-heading-anchor-permalink" href="#Manual" title="Permalink"></a></h1><p>This page shows how to use the HSVIforOSPOSGs.</p><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><p>First, a game in <code>.osgposg</code> format must be loaded as <code>OSPOSG</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; osposg = OSPOSG(&quot;../../games/pursuit-evasion/peg03.osposg&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">OSPOSG:
  discount = 0.95
  state_count = 143
  partition_count = 21
  player1_action_count = 145
  player2_action_count = 13
  observation_count = 2
  transition_count = 2671
  reward_count = 2671
  minimal_reward = 0.0
  maximal_reward = 100.0
  LB_min = 0.0
  UB_max = 1999.9999999999982
  lipschitz_delta = 999.9999999999991
  initial_partition = 5
  initial_belief = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0]</code></pre><article class="docstring"><header><a class="docstring-binding" id="HSVIforOSPOSGs.OSPOSG" href="#HSVIforOSPOSGs.OSPOSG"><code>HSVIforOSPOSGs.OSPOSG</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OSPOSG</code></pre><p>Type for a one-sided partially observable stochastic game. Can be loaded from <code>.osposg</code> files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/e64fce218531d54de7b5cc4542abf244b9bff903/src/types/osposg.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HSVIforOSPOSGs.OSPOSG-Tuple{AbstractString}" href="#HSVIforOSPOSGs.OSPOSG-Tuple{AbstractString}"><code>HSVIforOSPOSGs.OSPOSG</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OSPOSG(path::AbstractString)
OSPOSG(io::IO)</code></pre><p>Construct <code>OSPOSG</code> from <code>.osposg</code> file at <code>path</code> or from IO <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/e64fce218531d54de7b5cc4542abf244b9bff903/src/types/osposg.jl#L68-L73">source</a></section></article><p>Then, <code>HSVI</code> algorithm must be instantiated/configured. Here we use <code>HSVI</code> with default parameters:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; hsvi = HSVI()</code><code class="nohighlight hljs ansi" style="display:block;">HSVI:
  neighborhood = 1.0e-6
  presolve_epsilon = 0.01
  presolve_time_limit = 300.0
  optimizer_factory = #26</code></pre><p>For available parameters and their meaning see below:</p><article class="docstring"><header><a class="docstring-binding" id="HSVIforOSPOSGs.HSVI" href="#HSVIforOSPOSGs.HSVI"><code>HSVIforOSPOSGs.HSVI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HSVI</code></pre><p>Heuristic search value iteration solver for OSPOSGs.</p><p>The constructor takes following keyword arguments:</p><ul><li><code>neighborhood</code> - parameter that guarantees Lipschitz continuity and convergence of the algorithm</li><li><code>presolve_epsilon</code> - precision the solver is trying to achieve during presolve phase</li><li><code>presolve_time_limit</code> - time limit for the presolve phase in seconds</li><li><code>optimizer_factory</code> - function that returns optimizer compatible with JuMP.Model to be used as LP solver</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/e64fce218531d54de7b5cc4542abf244b9bff903/src/types/hsvi.jl#L1-L12">source</a></section></article><p>The <code>neigborhood</code> parameter <span>$D$</span> of <code>HSVI</code> must be within these bounds</p><p class="math-container">\[0 &lt; D &lt; \frac{(1 − \gamma) \varepsilon}{2 \delta}\]</p><p>for the algorithm to have convergence guarantees, where <span>$\gamma$</span> is discount factor, <span>$\varepsilon$</span> is specified gap and <span>$\delta$</span> is Lipschitz delta of the game.</p><p>After loading the game and configuring the algorithm we can start solving by running <code>solve</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; recorder = solve(osposg, hsvi, 1.0, 60.0)</code><code class="nohighlight hljs ansi" style="display:block;">┌ Info: OSPOSG:
│   discount = 0.95
│   state_count = 143
│   partition_count = 21
│   player1_action_count = 145
│   player2_action_count = 13
│   observation_count = 2
│   transition_count = 2671
│   reward_count = 2671
│   minimal_reward = 0.0
│   maximal_reward = 100.0
│   LB_min = 0.0
│   UB_max = 1999.9999999999982
│   lipschitz_delta = 999.9999999999991
│   initial_partition = 5
└   initial_belief = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0]
┌ Info: HSVI:
│   neighborhood = 1.0e-6
│   presolve_epsilon = 0.01
│   presolve_time_limit = 300.0
└   optimizer_factory = #26
[ Info:    0.17s presolve_LB  +50.07461
[ Info:   19.09s presolve_UB  +85.92328
[ Info:   exp      time         LB         UB        gap      Γ      Υ  depth
[ Info:     0:   19.78s  +50.07461  +85.92328  +35.84868     21    143
[ Info:     1:   27.31s  +52.16351  +85.91399  +33.75048     26    148      2
[ Info:     2:   28.70s  +61.05100  +85.90366  +24.85265    101    223     37
[ Info:     3:   29.02s  +63.77537  +85.53740  +21.76203    118    240      8
[ Info:     4:   29.84s  +72.75011  +84.93808  +12.18797    165    287     23
[ Info:     5:   29.89s  +80.12347  +84.90432   +4.78085    170    292      2
[ Info:     6:   30.23s  +82.01586  +84.60720   +2.59134    191    313     10
[ Info:     7:   32.17s  +82.34084  +84.45037   +2.10953    282    404     45
[ Info:     8:   32.63s  +82.34084  +84.43406   +2.09323    301    423      9
[ Info:     9:   34.20s  +82.99927  +84.28098   +1.28171    376    498     37
[ Info:    10:   35.75s  +82.99927  +84.05429   +1.05502    445    567     34
[ Info:    11:   36.18s  +83.03234  +83.85491   +0.82257    462    584      8
[ Info:    OK:   36.18s  +83.03234  +83.85491   +0.82257
HSVIRecorder:
  exploration_count = 11
  timestamps = [19.776208877563477, 27.30982494354248, 28.702457904815674, 29.016714811325073, 29.838583946228027, 29.893800020217896, 30.22699785232544, 32.169853925704956, 32.625815868377686, 34.195870876312256, 35.749861001968384, 36.177358865737915]
  lb_values = [50.074605717711876, 52.16350914100638, 61.05100229063332, 63.775374466942615, 72.75010638440921, 80.12346755531159, 82.01585793281183, 82.34083722378338, 82.3408372237834, 82.99927122898136, 82.99927122898137, 83.03234203976398]
  ub_values = [85.92328153759932, 85.91399246071936, 85.90365578045107, 85.53740180330605, 84.93807912421825, 84.90431764514234, 84.60719513661864, 84.45037038477412, 84.4340635913208, 84.28098310426499, 84.05428668032502, 83.85491137263138]
  gaps = [35.84867581988745, 33.75048331971298, 24.852653489817754, 21.762027336363438, 12.187972739809041, 4.78085008983075, 2.591337203806816, 2.109533160990736, 2.0932263675373974, 1.2817118752836336, 1.0550154513436496, 0.8225693328674026]
  gamma_sizes = [21, 26, 101, 118, 165, 170, 191, 282, 301, 376, 445, 462]
  upsilon_sizes = [143, 148, 223, 240, 287, 292, 313, 404, 423, 498, 567, 584]
  exploration_depths = [0, 2, 37, 8, 23, 2, 10, 45, 9, 37, 34, 8]
  clock_start = 1.676717003103228e9
  running   36.30s</code></pre><article class="docstring"><header><a class="docstring-binding" id="HSVIforOSPOSGs.solve" href="#HSVIforOSPOSGs.solve"><code>HSVIforOSPOSGs.solve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve(osposg::OSPOSG, hsvi::HSVI, epsilon::Float64, time_limit::Float64)</code></pre><p>Run <code>hsvi</code> solver on <code>osposg</code> game with time limit <code>time_limit</code> aiming for gap of at most <code>epsilon</code> in initial belief.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/e64fce218531d54de7b5cc4542abf244b9bff903/src/main.jl#L1-L5">source</a></section></article><p>The <code>recorder</code> contains records of the algorithm progress after each iteration and can be used for further examination or presentation of results.</p><article class="docstring"><header><a class="docstring-binding" id="HSVIforOSPOSGs.Recorder" href="#HSVIforOSPOSGs.Recorder"><code>HSVIforOSPOSGs.Recorder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Recorder</code></pre><p>Stores the solver statistics after each iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/blob/e64fce218531d54de7b5cc4542abf244b9bff903/src/types/recorder.jl#L1-L5">source</a></section></article><h2 id="LP-Solvers"><a class="docs-heading-anchor" href="#LP-Solvers">LP Solvers</a><a id="LP-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#LP-Solvers" title="Permalink"></a></h2><p>HSVIforOSPOSGs uses <a href="https://www.gnu.org/software/glpk">GLPK</a> as a <a href="https://github.com/jump-dev/JuMP.jl">JuMP</a> solver for linear programs by default because it is open-source and easily installable through standalone Julia package. However, note that the LP models being solved in HSVI for OSPOSGs are quite complex and GLPK might get stuck on some of them or report them as being unfeasible (although they should be feasible). Therefore, it is recommended to use more powerful solvers (such as <a href="https://www.ibm.com/products/ilog-cplex-optimization-studio">CPLEX</a>, <a href="https://www.gurobi.com">Gurobi</a>, etc.). However, installing them is not as straightforward and often requires 3rd party binary and/or proprietary license. If you wish to use different solver you can do so by installing the JuMP wrapper for the given solver (refer to installation instructions at <a href="https://github.com/jump-dev/CPLEX.jl">CPLEX.jl</a>, <a href="https://github.com/jump-dev/Gurobi.jl">Gurobi.jl</a>, etc.) and then pass the optimizer factory into <code>HSVI</code> constructor:</p><pre><code class="language-julia hljs">using CPLEX

HSVI(optimizer_factory=() -&gt; CPLEX.Optimizer())</code></pre><h2 id="Logging-level"><a class="docs-heading-anchor" href="#Logging-level">Logging level</a><a id="Logging-level-1"></a><a class="docs-heading-anchor-permalink" href="#Logging-level" title="Permalink"></a></h2><p>This package utilizes Julia logging facilities to communicate the progress of the algorithm to the user. By default only info, warning and error messages are displayed. To display more detailed debuging info, use the following before running the algorithm:</p><pre><code class="language-julia hljs">using Logging

global_logger(ConsoleLogger(stdout, Logging.Debug))</code></pre><p>On the contrary, to disable info logging use:</p><pre><code class="language-julia hljs">global_logger(ConsoleLogger(stdout, Logging.Warn))</code></pre><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>Additional examples on how to configure and run the algorithm are provided in the <a href="https://github.com/brozjak2/HSVIforOSPOSGs.jl/tree/master/scripts"><code>scripts</code></a> directory.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../game_format/">Game format »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 18 February 2023 10:44">Saturday 18 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
